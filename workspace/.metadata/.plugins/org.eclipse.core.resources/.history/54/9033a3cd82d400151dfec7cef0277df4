package hw6;

import java.util.*;


public class dHeap <T extends Comparable <? super T>> implements dHeapInterface<T> {
	int size, d, heapSize;
	T[] heapArr;
	
			
	//The constructor  takes one argument: an initial capacity
	//Used when binary heap is needed.
	public dHeap (int heapSize)
    {
		this.heapSize = heapSize;
		size = 0;
		d = 2;
		heapArr = (T[]) new Comparable[heapSize];
			
	}

	//The constructor takes two arguments: an initial capacity
	//and the number of children, d
	//if d is less than one, throw IllegalArgumentException();
	public dHeap (int d, int heapSize) {
		if(d < 1){
			throw new IllegalArgumentException();
		}
		this.d = d;
		this.heapSize = heapSize;
		size = 0;
		heapArr = (T[])new Comparable[heapSize];
	}

	public int size () {  
		return size;
	}
	
	public void add (T data) {
		int currentV = size;
		int parentV = getParent(currentV);
		while(currentV != 0 && data.compareTo(heapArr[parentV]) < 0){
			heapArr[currentV] = heapArr[parentV];
			currentV = parentV;
			parentV = getParent[currentV];
			
		}
		heapArr[currentV] = data;
		size++;
	}

		
	public T removeSmallest () {
		T theSmallest = heapArr[0];
		heapArr[0] = heapArr[size()];
		int theSwap = down(0);
		T theSwapV = heapArr[theSwap];
		heapArr[theSwap] = heapArr[0];
		heapArr[0] = theSwapV;
		return theSmallest;
		
	}
	private int getParent(int val){
		return((val -  1)/d);
	}
	private void goUp(int indx){
		int up = indx;
		for (int i = size-1; i > 0 i++){
			if(heapArr[up]compareTo(heapArr[i]) <0){
				up = i;
				
			}
		}
		
	}
	private int down(int indx){
		int down = indx;
		for(int i = 1;i < size; i++){
			if(heapArr[down]compareTo(heapArr[i])> 0){
				down = i;
				
			}
	
		}
		return down;
	}

}
